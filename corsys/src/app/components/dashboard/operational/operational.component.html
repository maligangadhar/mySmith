<div class="dashboard-main-panel">
    <div class="row dash-filter">
        <div class="col-sm-12 text-right filter-buttons">
            <div class="radio-group">
                <input type="radio" id="option-one" name="selector" (click)="getChartData('today')" [checked]="selectedFilter==='today'">
                <label class="first-radio" for="option-one">{{'Today' | sp3Translate}}</label>
                <input type="radio" id="option-three" name="selector" (click)="getChartData('last24hours')" [checked]="selectedFilter==='last24hours'">
                <label class="last-radio" for="option-three">{{'Last24' | sp3Translate}}</label>
            </div>
        </div>
    </div>
    <div class="row"> 
        <div class="col-sm-12">
            <h2 class="col-title">{{'KPIS' | sp3Translate}}
                <small class="pull-right">
                    <span *ngIf="selectedFilter==='today'">{{ fromDateStart }} <b>vs.</b>  {{toDate}} </span>
                    <span *ngIf="selectedFilter==='last24hours'"> {{ fromDate }} - {{fromYesterday}}  <b>vs.</b>  {{fromYesterday}} - {{toDate}} </span> 
                 </small>
            </h2>
            <div class="row">
                <div class="col-5 col-sm-6 col-sm-6">
                    <div *ngIf="kpiLoading" class="chartloading">
                            <div class="appspinner"></div>
                    </div>
                    <div class="col-thumb ">
                        <h4> {{'Screened' | sp3Translate}} </h4>
                        <h2>{{screenKPIVal}}</h2>
                    </div>
                    <div class="col-foot positive" *ngIf="screenFlag">
                        <span class="pull-left">{{screenChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-green.png">
                        </span>
                    </div>
                    <div class="col-foot negative" *ngIf="!screenFlag">
                        <span class="pull-left">{{screenChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-red.png">
                        </span>
                    </div>
                </div>
                <div class="col-5 col-sm-6">
                    <div *ngIf="kpiLoading" class="chartloading">
                            <div class="appspinner"></div>
                    </div>
                    <div class="col-thumb">
                        <h4>{{'ScreenedAssessed' | sp3Translate}} </h4>
                        <h2>{{accessedKPIVal}}</h2>
                    </div>
                    <div class="col-foot positive" *ngIf="accessedFlag">
                        <span class="pull-left">{{accessChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-green.png">
                        </span>
                    </div>
                    <div class="col-foot negative" *ngIf="!accessedFlag">
                        <span class="pull-left">{{accessChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-red.png">
                        </span>
                    </div>
                </div>
                <div class="col-5 col-sm-6">
                    <div *ngIf="kpiLoading" class="chartloading">
                            <div class="appspinner"></div>
                    </div>
                    <div class="col-thumb">
                        <h4>{{'Inspected' | sp3Translate}} </h4>
                        <h2>{{inspectedKPIVal}}</h2>
                    </div>
                    <div class="col-foot positive" *ngIf="inspectedFlag">
                        <span class="pull-left">{{inspectChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-green.png">
                        </span>
                    </div>
                    <div class="col-foot negative" *ngIf="!inspectedFlag">
                        <span class="pull-left">{{inspectChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-red.png">
                        </span>
                    </div>
                </div>
                <div class="col-5 col-sm-6">
                    <div *ngIf="kpiLoading" class="chartloading">
                            <div class="appspinner"></div>
                    </div>
                    <div class="col-thumb">
                        <h4>{{'Suspected' | sp3Translate}}</h4>
                        <h2>{{suspectedKPIVal}}</h2>
                    </div>
                    <div class="col-foot positive" *ngIf="suspectedFlag">
                        <span class="pull-left">{{suspectChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-green.png">
                        </span>
                    </div>
                    <div class="col-foot negative" *ngIf="!suspectedFlag">
                        <span class="pull-left">{{suspectChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-red.png">
                        </span>
                    </div>
                </div>
                <div class="col-5 col-sm-6">
                    <div *ngIf="kpiLoading" class="chartloading">
                        <div class="appspinner"></div>
                    </div>
                    <div class="col-thumb">
                        <h4>{{'Cleared' | sp3Translate}}</h4>
                        <h2>{{clearedKPIVal}}</h2>
                    </div>
                    <div class="col-foot positive" *ngIf="clearedFlag">
                        <span class="pull-left">{{clearedChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-green.png">
                        </span>
                    </div>
                    <div class="col-foot negative" *ngIf="!clearedFlag">
                        <span class="pull-left">{{clearedChangeVal}}%</span>
                        <span class="pull-right stats">
                            <img src="assets/images/tri-red.png">
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 kpi-section">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-5">
                <div *ngIf="guageChartloading" class="chartloading">
                        <div class="appspinner"></div>
                    </div>
                    <div class="sp3-charts sp3-guage hourlyscan panel panel-default">
                        <div class="panel-heading">
                            <span> {{'TotalAssessments' | sp3Translate}} </span>
                            <br>
                            <br>
                            <span class="guageRange"> {{guageRange}} </span>
                        </div>
                        <div class="panel-body">
                            <h3>{{target}}</h3>
                            <p>
                                {{'Target' | sp3Translate}}
                                <span class="actual">{{'Actual' | sp3Translate}} </span>
                            </p>
                            <div class="guage-component">
                                <sp3-comp-gauge-component [(selectedFilter)]="selectedFilter" (showGuageTarget)="showGuageTarget($event)"></sp3-comp-gauge-component>
                            </div>
                    <div class="guage-footer">
                        <div *ngIf="footerFlag" class="col-sm-12 col-foot positive">
                            <span class="pull-left">{{footerMessage}}%</span>
                            <span class="pull-right stats">
                                <img src="assets/images/tri-green.png">
                            </span>
                        </div>
                        <div *ngIf="!footerFlag" class="col-sm-12 col-foot negative">
                            <span class="pull-left">{{footerMessage}}%</span>
                            <span class="pull-right stats">
                                <img src="assets/images/tri-red.png">
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sp3-charts panel panel-default">
                <div class="panel-body">
                    <div class="table-responsive" style="max-height:295px;overflow-y:scroll">
                        <table class="table table-striped table-hover" style="border:1px solid #ccc;">
                            <tr>
                                <th></th>
                                <th class="pointer" (click)="sort('name')">
                                    {{'Name' | sp3Translate}}
                                    <i class="fa" [ngClass]="{'fa-sort': columnName != 'name', 'fa-sort-asc': (columnName == 'name' && isDesc), 'fa-sort-desc': (columnName == 'name' && !isDesc) }"
                                        aria-hidden="true"> </i>
                                </th>
                                <th class="pointer" (click)="sort('type')">
                                    {{'Status' | sp3Translate}}
                                    <i class="fa" [ngClass]="{'fa-sort': columnName != 'type', 'fa-sort-asc': (columnName == 'type' && isDesc), 'fa-sort-desc': (columnName == 'type' && !isDesc) }"
                                        aria-hidden="true"> </i>
                                </th>
                                <th class="pointer" (click)="sort('status')">
                                    {{'ShowHide' | sp3Translate}}
                                    <i class="fa" [ngClass]="{'fa-sort': columnName != 'status', 'fa-sort-asc': (columnName == 'status' && isDesc), 'fa-sort-desc': (columnName == 'status' && !isDesc) }"
                                        aria-hidden="true"> </i>
                                </th>
                            </tr>
                            <tr *ngFor="let view of userGridList">
                                <td>
                                  <div *ngIf="view.status">
                                     <span class="gradespan"   [ngStyle]="{'background-color': view.colour}"></span>
                                  </div>
                                </td>
                                <td>{{view.fullName}}</td>
                                <td>
                                    <div *ngIf="view.type ==='1'" ngClass="{{'rank-rating norisk queryData'}}">{{'Green' | sp3Translate}}</div>
                                    <div *ngIf="view.type ==='2'" ngClass="{{'rank-rating moderate queryData'}}">{{'Amber' | sp3Translate}}</div>
                                    <div *ngIf="view.type ==='3'" ngClass="{{'rank-rating highrisk queryData'}}">{{'Red' | sp3Translate}}</div>
                                    <div *ngIf="view.type ==='0'" ngClass="{{'rank-rating inactive queryData'}}">{{'Inactive' | sp3Translate}}</div>
                                </td>
                                <td>
                                    <sp3-comp-dashboard-inputswitch [buttonState]="view.status" [disableSwitch]="false" [buttonParam]="view" (getButtonState)="getSwitchState($event)"></sp3-comp-dashboard-inputswitch>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 col-lg-7">
            <div *ngIf="timeSeriesLoading" class="chartloading">
                <div class="appspinner"></div>
            </div>
            <div class="sp3-charts panel panel-default">
                <div class="panel-heading">{{'ImageAssesmentTitle' | sp3Translate}}
                        <span class="chartBanner pull-right">
                          <span class="actual"> </span>
                          <span class="legend"> {{'ActualLegend' | sp3Translate}} </span>
                          <span class="targetLegend"> - - - - </span> {{'TargetLegend' | sp3Translate}}
                        </span>
                </div>
                <div class="panel-body">
                    <sp3-comp-timeseries-chart [data]="columns" [colors]="timeSeriesColor" [regions]="totalChartRegion"></sp3-comp-timeseries-chart>
                    <!--<sp3-comp-linechart chartId='timeSeriesChart'  [regions]="totalChartRegion"  [data]="totalChart" bindToX="date"></sp3-comp-linechart>-->
                    
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="col-sm-12 kpi-section">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="panel sp3-charts panel-default">
                    <div class="panel-heading">{{'InspectionDuration' | sp3Translate}}  <small class="pull-right"><span *ngIf="selectedFilter==='today'">{{ fromDateStart }} <b>To</b> {{toDate}} </span> <span *ngIf="selectedFilter==='last24hours'"> {{ fromDate }} - {{fromYesterday}} <b>To</b> {{fromYesterday}} - {{toDate}} </span> </small></div>
                <div class="panel-body">
                    <sp3-comp-histogram-component [data]="histogramData" [(selectedFilter)]="selectedFilter"></sp3-comp-histogram-component>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="col-sm-12  kpi-section">
            </div>
        </div>
    </div>
</div>